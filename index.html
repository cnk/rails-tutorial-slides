<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-US">
  <head>
    <meta name="generator" content="HTML Tidy for Linux/x86 (vers 1st November 2003), see www.w3.org" />
    <title>Rails Tutorial Using Rails 3.0.10</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="copyright" content="Copyright &#169; 2011 The Rubyists http://therubyists.org" />
    <meta name="duration" content="20" />
    <link rel="stylesheet" href="http://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" type="text/css" />
    <script src="http://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js" charset="utf-8" type="text/javascript"></script>
  </head>
  <body>
    <div class="slide">
      <h1>Welcome</h1>

      <p>
        Welcome to the LA Ruby Study Group Rails Tutorial Workshop.
      </p>

      <p>
        We are going to work through the Rails Tutorial book. You will
        have already worked through the install steps last
        weekend. Tonight we will be starting right in with Chapter 3 -
        Mostly Static Pages.
      </p>
      
      <p>
        We will be skipping the testing portions of the book. In the
        long run, testing saves time you would spend debugging or
        doing <i>ad hoc</i> testing - but in the short run it takes
        time.
      </p>

    </div>

    <div class="slide">
      <h1>Our Sample App</h1>

      <pre>
  cd _wherever_you_want_to_work_
  rails new sample_app

  app/   - this is where your application lives
     controllers/
     helpers/
     models/
     views/
  config/  - application configuration, e.g. database.yml
  db/migrations/ - database-agnostic schema definition
  log/     - log files. Look here for debugging information
  public/  - images, stylesheets, javascript
  Gemfile  - what gems should we load for this application? 
  .gitignore -  Lists of files we don't want version controlled      </pre>
    </div>

    <div class="slide">
      <h1>Start your server</h1>

      <pre>
  cd sample_app
  bundle install
  rails server	
  => Booting WEBrick
  => Rails 3.0.9 application starting on http://0.0.0.0:3000
  => Call with -d to detach
  => Ctrl-C to shutdown server      </pre>

      <p>
        In your web browser, got to <a href="http://localhost:3000">http://localhost:3000</a>
      </p>
    </div>

    <div class="slide">
      <h1>Using Git</h1>

      <p>
        Version control is a good development practice. It is also the
        tool we are going to use to transfer the code you have on your
        local machine to Heroku - a web host where the rest of the
        world can see your handiwork. 
      </p>

      <pre>
  Initial (one time) setup: 
  git config --global user.name "Your Name"
  git config --global user.name "Your Name"

  git init
  # Possibly edit the .gitignore file
  git add . 
  git commit -m "Bare rails project"      </pre>
    </div>

    <div class="slide">
      <h1>Deploy</h1>

      <p>
        Everyone signed up for a free Heroku account, right? <a
        href="https://api.heroku.com/signup">https://api.heroku.com/signup</a> 
      </p>

      <pre>
  gem list heroku

  heroku keys:add
  heroku create
  git push heroku master

  heroku open      </pre>
      <p>
        Don't worry about the fact the "About your application's
        environment" link doesn't work on Heroku. That's normal. We'll
        be replacing that page with something more interesting soon.
      </p>
    </div>

    <div class="slide">
      <h1>Static pages</h1>

      <p>
        Any page or file placed within the public/ directory will be
        served directly from that location without passing through the
        rails routing system. For example, let's create a file
        public/hello.html
     </p>

     <p>
       That's nice. But it has all the disadvantages of a static web
       page. For example, it must contain all of the styling
       information for the page. And if that changes, it needs to be
       changed on every page. That violates one of Rails' guiding
       principles: <b>Don't Repeat Yourself</b>
     </p>

      <p>
        Rails can offer you a better option - using the Rails
        templating system to apply a common layout. 
      </p>
    </div>

    <div class="slide">
      <h1>Not Really Static Pages</h1>

      <pre>
  rails generate controller Pages home contact      
      create  app/controllers/pages_controller.rb
       route  get "pages/contact"
       route  get "pages/home"
      invoke  erb
      create    app/views/pages
      create    app/views/pages/home.html.erb
      create    app/views/pages/contact.html.erb      </pre>

      <p>
        This will have generated a controller named Pages and added 2
        actions to it: home and contact. It has also added routes and pages.
	Let's look at them.
      </p>
    </div>


    <div class="slide">
      <h1>Common Layout</h1>

      <p>
        Let's take advantage of the site layout file. Let's add a
        title to each page.
      </p>

      <pre>
  class PagesController < ApplicationController
    def home
      @title = "Home"
    end
  end      </pre>

      <p>
        Views: html + ruby. The text between &lt;% and %&gt; is
        evaluated as ruby. If there is an equal sign, the result of
        the ruby is placed in the html:  &lt;%= 2+2 %&gt; yields
        4. The value of instance variables can be placed in a view.
      </p>

      <pre>
  &lt;%= @title %&gt;     </pre>

    </div>

  </body>
</html>
